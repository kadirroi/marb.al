<html>

	<body>

		<canvas id="myCanvas" height="500" width="500"></canvas>

		<script type="text/javascript">

			var canvas = document.getElementById ("myCanvas");
			
			var gl = initGL (canvas);

			// ------ here, we simply upload the vertexBuffer to the GPU 

			vertices = [
				3.0, 3.0, 0.0,	// vertex 0
			    -3.0, 3.0, 0.0,	// vertex 1
				3.0, -3.0, 0.0,	// vertex 2
				-3.0, -3.0, 0.0	// vertex 3
			];
			
			gl.bindBuffer(gl.ARRAY_BUFFER , null); // we deactivate the current buffer
			vertexBuffer = gl.createBuffer(); // we create just a REFERENCE to the vertex buffer object
			gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer); //we make the vertexBuffer, current active buffer for the memory allocation.
			gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW); // we allocate memory for the buffer object vertexBuffer			

			// ------

			// ------ here, we simply upload the indexBuffer to the GPU
				indices = [0, 2, 3, 0, 3, 1]; // this represents the drawing order of the vertices,

				indexBuffer = gl.createBuffer(); // we create just a REFERENCE to the index buffer object
				gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer); // we make the indexBuffer, current active buffer for the memory allocation.
				gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW); // we allocate memory for the buffer object	
				gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null); // we deactive the current buffer for the further usage.
								
			// ------

			function initGL (canvas){
				var names = ["webgl", "experimental-webgl", "webkit-3d", "moz-webgl"];
				for (var i=0; i<names.length; i++){
					try{
						var gl = canvas.getContext(names[i]);
					}
					catch (e){}
					if (gl)
						break;
				}

				if (gl == null){
					alert ("Could not initialise WebGL");
					return null;
				}
				
				gl.viewportWidth = canvas.width;
				gl.viewportHeight = canvas.height;
				return gl;
			}

		</script>

	</body>

</html>
